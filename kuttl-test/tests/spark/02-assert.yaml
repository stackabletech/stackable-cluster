apiVersion: kuttl.dev/v1beta1
kind: TestAssert
commands:
  - script: ./kuttl-test/tests/spark/sparkAssertion.sh
    timeout: 140 #https://github.com/kudobuilder/kuttl/issues/321
    #TODO: check for better wait conditions or other kuttl options
    #TODO: create a setup test and check status with field selector or wait for https://github.com/kudobuilder/kuttl/issues/294
  - command: kubectl get pods -o wide
  - command: ./kubectl-assert spark_file_exist StackyMcStackfaceSaysHello -v
